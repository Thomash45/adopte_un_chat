<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="icon" type="image/png" href="{{ asset('images/cat.png') }}" />
        <title>{% block title %}Le Bon Chat{% endblock %}</title>
        {% block stylesheets %}{% endblock %}
        <link rel="stylesheet" href="{{ asset('build/css/main.css') }}"/>
       <!-- <link rel="stylesheet" href="{{ asset('build/css/responsive.css') }}"/>
        <link rel="stylesheet" href="{{ asset('build/css/uikit.css') }}"/>
        <link rel="stylesheet" href="{{ asset('build/fonts/fontawesome.css') }}"/>
        <link rel="stylesheet" href="{{ asset('build/fonts/fa-brands.css') }}"/>
        <link rel="stylesheet" href="{{ asset('build/fonts/fa-regular.css') }}"/>
        <link rel="stylesheet" href="{{ asset('build/fonts/fa-solid.css') }}"/> -->
    </head>
    <body onload="initialize()">
    {% include '_navbar.html.twig' %}
        {% block body %}{% endblock %}
    {% include '_footer.html.twig' %}
    <script type="text/javascript" src="{{ asset('build/js/bootstrap.js') }}"></script>
    <script type="text/javascript" src="{{ asset('build/js/jquery.js') }}"></script>
    <script type="text/javascript" src="{{ asset('build/js/script.js') }}"></script>

    <script>

        $('#form_adresse').attr('id', 'autocomplete');
        $('#form_road').attr('id', 'route');
        $('#form_streetNumber').attr('id', 'street_number');
        $('#form_country').attr('id', 'country');
        $('#form_city').attr('id', 'locality');
        $('#form_region').attr('id', 'administrative_area_level_1');
        $('#form_codePostal').attr('id', 'postal_code');
        $('#form_departement').attr('id', 'administrative_area_level_2');


        // This example displays an address form, using the autocomplete feature
        // of the Google Places API to help users fill in the information.

        // This example requires the Places library. Include the libraries=places
        // parameter when you first load the API. For example:
        // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

        var placeSearch, autocomplete;
        var componentForm = {
            locality: 'long_name',
            administrative_area_level_1: 'short_name',
            administrative_area_level_2: 'short_name',
            country: 'long_name',
            postal_code: 'short_name'

        };

        function initAutocomplete() {
            // Create the autocomplete object, restricting the search to geographical
            // location types.
            var options = {
                types: ['(regions)'],
                componentRestrictions: {country: 'fr'}
            }

            autocomplete = new google.maps.places.Autocomplete(
                /** @type {!HTMLInputElement} */(document.getElementById('autocomplete')),options);

            // When the user selects an address from the dropdown, populate the address
            // fields in the form.
            autocomplete.addListener('place_changed', fillInAddress);
        }

        function fillInAddress() {
            // Get the place details from the autocomplete object.
            var place = autocomplete.getPlace();

            for (var component in componentForm) {
                document.getElementById(component).value = '';
                document.getElementById(component).disabled = false;
            }

            // Get each component of the address from the place details
            // and fill the corresponding field on the form.
            for (var i = 0; i < place.address_components.length; i++) {
                var addressType = place.address_components[i].types[0];
                if (componentForm[addressType]) {
                    var val = place.address_components[i][componentForm[addressType]];
                    document.getElementById(addressType).value = val;
                }
            }
        }


    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCfwoJois3eJUbve0k5ojWDqqInpVsm2Rk&&libraries=places&callback=initAutocomplete" async defer></script>

        {% block javascripts %}{% endblock %}
    </body>
</html>
