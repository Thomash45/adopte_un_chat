{% extends 'base.html.twig' %}

{% block title %}Announce index{% endblock %}

{% block body %}
<div class="container">
    <div class="card mt-5 mb-5">
        <div class="row no-gutters">
            <aside class="col-sm-4 border-right">
                <article class="gallery-wrap">
                    <div class="">
                        <div><img src="../../images/announce_img/{{ announce.imageName }}" width="100%" ></div>
                    </div> <!-- slider-product.// -->
                    <div class="img-small-wrap">

                    </div> <!-- slider-nav.// -->
                </article> <!-- gallery-wrap .end// -->
            </aside>
            <aside class="col-sm-8">
                <article class="pl-5 pt-4 ">
                    <h3 class="title mb-3">{{ announce.name }}</h3>

                    <div class="mb-3">
                        <a href="#" class="btn btn-primary  mb-2 mt-2" > <i class="fa fa-paper-plane"></i> Contacter l'annonceur </a>
                        <a href="#" class="btn btn-secondary  mb-2 mt-2" > <i class="fa fa-heart"></i> Ajouter à mes favoris </a>
                    </div> <!-- price-detail-wrap .// -->
                    <dl>
                        <div class="label-rating"><b>Ville : </b> {{ announce.city }} <b> - Departement : </b> {{ announce.departement}} <b> - Region : </b> {{ announce.region }}</div>
                        <dd><p class="pr-5"><br>{{ announce.description }}<br></p></dd>
                    </dl>
                    <dl class="row">
                        <div class="col-sm-4">
                        <ul>
                            <li class="mt-3"><b>Espece : </b>{{ announce.race }}</li>
                            <li class="mt-3"><b>Genre : </b>{{ announce.gender }}</li>
                            <li class="mt-3"><b>Année : </b>{{ announce.year }}</li>
                        </ul>
                        </div>
                        <div class="col-sm-4">
                        <ul>
                            <li class="mt-3"><b>Pelage : </b>{{ announce.coat }}</li>
                            <li class="mt-3"><b>Type : </b>{{ announce.coatStyleColor }}</li>
                            <li class="mt-3"><b>Couleur 1 : </b>{{ announce.coatColor }}</li>
                            </ul>
                        </div>

                    </dl>

                </article> <!-- card-body.// -->
            </aside>

            <aside class="col-sm-12">
                <div id="map" class="carto"></div>
            </aside><!-- col.// -->
        </div> <!-- row.// -->
    </div> <!-- card.// -->
</div>
{% endblock %}
{% block javascripts %}
    <script>



        // Initialize and add the map
        function initMap() {


            // The location of cat
            var cat = {lat: {{ announce.lat }}, lng: {{ announce.lng }}};
            // The map, centered at cat
            var map = new google.maps.Map(
                document.getElementById('map'), {zoom: 11, center: cat});
            // The marker, positioned at Uluru
            var marker = new google.maps.Marker({
                position: cat,
                map: map,
                icon: new google.maps.MarkerImage('../../images/markercat2.png')
            });

            var infoWindowOptions = {
                content: '<img src="../../images/announce_img/{{ announce.imageName }}" width="150px" /></br></br>'
                + '<b>{{ announce.name }}</b><br>{{ announce.race }} - {{ announce.gender }} - {{ announce.year }}'
            };

            var infoWindow = new google.maps.InfoWindow(infoWindowOptions);

            google.maps.event.addListener(marker, 'click', function() {
                infoWindow.open(map, marker);
            });
        }
    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCfwoJois3eJUbve0k5ojWDqqInpVsm2Rk&callback=initMap">
    </script>
{% endblock %}